<h1>Cleartext Integrity</h1>
<p>
  Create a digest of <code>hash</code> and compare it with the <code>fileHash</code> that was received in <a href="">Aliceâ€™s permit</a>
  after the last chunk has been processed.
  If the digests are not identical the integrity of the decrypted bytes has been compromised.
</p>
<pre>
if isLastChunk
  if hash.digest() is fileHash
    # The integrity of the name, type, time and data were verified.
  else
    # The integrity of this file has been compromised.
</pre>

<pre>
data = new Blob(decryptedChunks)
if type is "text/plain"
  text = NaCl.util.encodeUTF8(data)
</pre>
